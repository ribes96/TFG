% \usepackage[utf8]{inputenc}
% \usepackage[spanish]{babel}
% \usepackage[english]{babel}

% \usepackage{biblatex}
% \addbibresource{ribes19bib.bib}

\usepackage{csquotes}

% \usepackage{authblk}
%
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{graphicx}
\graphicspath{ {./img/} }
\usepackage{float}
\usepackage{hyperref}
\usepackage{eurosym}
\usepackage{ upgreek }
\usepackage{bm}

\usepackage{ dsfont }
\usepackage{commath}
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage{ifthen}
\usepackage{comment}
% \usepackage{subfig}
% \usepackage{subfigure}

\usepackage{caption}
\captionsetup{justification=raggedright,singlelinecheck=false}
\usepackage{subcaption}
\captionsetup[subfigure]{labelformat=empty}

\usepackage{tcolorbox}
\tcbuselibrary{breakable}
\usepackage{ textcomp }
\usepackage{multicol}




\newcommand{\reals}{\mathds{R}}
\newcommand{\vx}{\ensuremath{\bm{x}}}
\newcommand{\vy}{\ensuremath{\bm{y}}}
\newcommand{\vw}{\ensuremath{\bm{w}}}
\newcommand{\eng}[1]{\textit{#1}}
\newcommand{\transp}{\intercal}
\newcommand{\kernel}{\ensuremath{\kappa}}
\newcommand{\tu}{\textunderscore}
\newcommand{\Hspace}{\ensuremath{\mathcal{H}}}
\newcommand{\Lspace}{\ensuremath{\mathcal{L}}}
% \newcommand{\semiRbf}{\ensuremath{e^{-\frac{\norm{\vx - \vy}^2}{2\sigma^2}}}}
\newcommand{\semiRbf}{\ensuremath{e^{-\gamma\norm{\vx - \vy}^2}}}
\newcommand{\rbf}{\ensuremath{\kernel(\vx,\vy) = \semiRbf}}
\newcommand{\Nys}{Nyström}
\newcommand{\RFF}{Random Fourier Features}
%\newcommand{\dtsInfo}[4]
% {
%    \begin{table}[]
%     \begin{tabular}{|l|c|}
%      \hline
%      \textbf{Name}         & #1 \\ \hline
%      \textbf{\# Features}  & #2 \\ \hline
%      \textbf{\# Instances} & #3 \\ \hline
%      \textbf{\# Classes}   & #4 \\ \hline
%
%     \end{tabular}
%     \caption{Info. of dataset #1}
%     \label{info-dts-#1}
%
%    \end{table}
% }

\newcommand{\dtsInfo}[4]
{
  \vspace{0.3cm}
  {\setlength{\parindent}{0em}
  \begin{minipage}[t]{0.5\textwidth}
    \begin{tabular}{|l|c|}
     \hline
     \textbf{Name}         & #1 \\ \hline
     \textbf{\# Features}  & #2 \\ \hline
     \textbf{\# Instances} & #3 \\ \hline
     \textbf{\# Classes}   & #4 \\ \hline

    \end{tabular}
    \captionof{table}{Info. of #1}
    \label{info-dts-#1}
  \end{minipage}
  }
}

\newcommand{\penDigitsInfo}{\dtsInfo{pen-digits}{16}{10992}{10}}
\newcommand{\covertypeInfo}{\dtsInfo{covertype}{12}{4900}{7}}
\newcommand{\satelliteInfo}{\dtsInfo{satellite}{36}{6435}{6}}
\newcommand{\vowelInfo}{\dtsInfo{vowel}{10}{990}{11}}
\newcommand{\fallDetectionInfo}{\dtsInfo{fall-detection}{6}{16382}{6}}
\newcommand{\mnistInfo}{\dtsInfo{mnist}{12}{4900}{7}}
\newcommand{\segmentInfo}{\dtsInfo{segment}{717}{5000}{10}}
\newcommand{\digitsInfo}{\dtsInfo{digits}{64}{5620}{10}}

\newcommand{\allDtsInfo}
{
  \penDigitsInfo
  \covertypeInfo
  \satelliteInfo
  \vowelInfo
  \fallDetectionInfo
  \mnistInfo
  \segmentInfo
  \digitsInfo
}

\newenvironment{note}
{
  \begin{tcolorbox}[breakable, colback=yellow,coltext=black]
}
{\end{tcolorbox}}



\definecolor{WAgreen}{RGB}{37, 211, 102}
\newenvironment{delivery}
{
  \begin{tcolorbox}[breakable, colback=WAgreen,coltext=black]
}
{\end{tcolorbox}}

\definecolor{DBblue}{RGB}{61, 154, 232}
\newenvironment{pre-delivery}
{
  \begin{tcolorbox}[breakable, colback=DBblue,coltext=black]
}{
  \end{tcolorbox}
}

\newenvironment{release}
{
  \begin{tcolorbox}[breakable, colback=green,coltext=black]
}
{
\end{tcolorbox}
}

\newcommand{\bbag}
{\subfloat[Black Bag]{\includegraphics[width=0.5\linewidth]{black_bag}}}

\newcommand{\bens}
{\subfloat[Black Ensemble: every model is trained with the same data]{\includegraphics[width=0.5\linewidth]{black_ensemble}}}

\newcommand{\gbag}
{\subfloat[Grey Bag]{\includegraphics[width=0.5\linewidth]{grey_bag}}}

\newcommand{\gens}
{\subfloat[Grey Ensemble]{\includegraphics[width=0.5\linewidth]{grey_ensemble}}}

\newcommand{\boxPics}{
  \begin{figure}[t]
  % \subfloat[Fig 1]{\fbox{\includegraphics[width=0.5\linewidth]{black_bag}}}
  % \hspace{1mm}
  % \subfloat[Fig 1]{\fbox{\includegraphics[width=0.5\linewidth]{black_bag}}}\\
  % \subfloat[Fig 1]{\fbox{\includegraphics[width=0.5\linewidth]{black_bag}}}
  % \hspace{1mm}
  % \subfloat[Fig 1]{\fbox{\includegraphics[width=0.5\linewidth]{black_bag}}}

  \bbag\hspace{1mm}
  \gbag\\
  \bens\hspace{1mm}
  \gens
  \caption{Box Models}
  \label{figure:box_models}
  \end{figure}
}

\renewcommand{\labelenumii}{\theenumii}
\renewcommand{\theenumii}{\theenumi.\arabic{enumii}.}

\newcommand{\tabhead}[1]{\textbf{#1}}

% Regula el tamaño que tienen las imágenes de los apéndices
\newcommand{\imgscale}{1}

\newcommand{\boxScale}{0.7}

\newcommand{\figBlackBag}{
  \begin{figure}[th]
  \centering
  \includegraphics[width=\boxScale\linewidth]{Figures/boxes/black_bag}
  \decoRule
  \caption[Black Bag diagram]{Black Bag Model diagram. Each model recieves data
  from the same Random Mapping, but they take a different resampling with with
  replacement.}
  \label{fig:black-bag}
  \end{figure}
}

\newcommand{\figBlackEns}{
  \begin{figure}[th]
  \centering
  \includegraphics[width=\boxScale\linewidth]{Figures/boxes/black_ens}
  \decoRule
  \caption[Black Ensemble diagram]{Black Ensemble Model diagram. Each model
  recieves exactly the same data, from just one Random Mapping. This model
  doesn't make sense unless the basic model has some random process.}
  \label{fig:black-ens}
  \end{figure}
}

\newcommand{\figWhiteBag}{
  \begin{figure}[th]
  \centering
  \includegraphics[width=\boxScale\linewidth]{Figures/boxes/white_bag}
  \decoRule
  \caption[White Bag diagram]{White Bag Model diagram. Each models recieves
  data from a different Random Mapping, which has then had a resampling with
  replacement.}
  \label{fig:white-bag}
  \end{figure}
}

\newcommand{\figWhiteEns}{
  \begin{figure}[th]
  \centering
  \includegraphics[width=\boxScale\linewidth]{Figures/boxes/white_ens}
  \decoRule
  \caption[White Ensemble diagram]{White Ensemble Model diagram. Each model
  recieves data from a different Random Mapping.}
  \label{fig:white-ens}
  \end{figure}
}

\newcommand{\BoxesFigure}{
\begin{figure}[ht]
  {\centering
  \begin{subfigure}[t]{0.5\linewidth}
    \centering\includegraphics[height=10\baselineskip]{Figures/boxes/black_bag}
    \caption[Black Bag diagram]{Black Bag. Each model recieve data
    from the same Random Mapping, but they take a different resampling with with
    replacement.}
    % \label{fig:black-bag}
  \end{subfigure}%
  \begin{subfigure}[t]{0.5\linewidth}
    \centering\includegraphics[height=10\baselineskip]{Figures/boxes/black_ens}
    \caption[Black Ensemble diagram]{Black Ensemble. Each model
    recieve exactly the same data, from just one Random Mapping. Only useful
    for randomized models.}
    % \label{fig:black-ens}
  \end{subfigure}

  \begin{subfigure}[t]{0.5\linewidth}
    \centering\includegraphics[height=10\baselineskip]{Figures/boxes/white_bag}
    \caption[White Bag diagram]{White Bag. Each model recieves
    data from a different Random Mapping, which has then had a resampling with
    replacement.}
    % \label{fig:white-bag}
  \end{subfigure}%
  \begin{subfigure}[t]{0.5\linewidth}
    \centering\includegraphics[height=10\baselineskip]{Figures/boxes/white_ens}
    \caption[White Ensemble diagram]{White Ensemble. Each model
    recieves data from a different Random Mapping.}
    % \label{fig:white-ens}
  \end{subfigure}
  }
  \caption[Model Boxes Diagram]\\
  Four different ways to mix Random Fourier Features with ensemble methods.
  % There are many ways to mix Ensemble Methods with
  % Random Fourier Features. These are the ones studied in this project.
  \label{fig:model-boxes}
\end{figure}
}
